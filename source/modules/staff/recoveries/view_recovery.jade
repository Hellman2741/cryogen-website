script.
  $(document).ready(function() {

    $('#respond').click(function() {
      var id = '#{id}';
      $.post('/staff', { mod:'recover', action:'view-noty' }, function(ret) {
        var data = getJSON(ret);
        if(data == null) return false;
        n = noty({
          text: 'How would you like to respond to this recovery?',
          type: 'confirm',
          layout: 'center',
          dismissQueue: false,
          template: data.html,
          theme: 'cryogen',
          buttons: [{
            addClass: 'btn btn-primary btn-green', text: 'Accept', onClick: function($noty) {
              $.post('/staff', { mod:'recover', action:'respond', id:id, answer:'true' }, function(ret) {
                var data = getJSON(ret);
                if(data == null) return false;
                recover_page = 1;
                loadRecoveryList();
                sendAlert('You have successfully responded to this recovery request.');
                return false;
              });
              $noty.close();
            }
          },
          {
            addClass: 'btn btn-danger', text: 'Decline', onClick: function($noty) {
              var response = $('#response').val();
              if(response === '' || response.length > 75) {
                sendAlert('Invalid reason. Reason must be supplied if you are declining, and cannot be more than 75 characters.');
                return false;
              }
              $.post('/staff', { mod:'recover', action:'respond', id:id, answer:'false', reason:response }, function(ret) {
                var data = getJSON(ret);
                if(data == null) return false;
                recover_page = 1;
                loadRecoveryList();
                sendAlert('You have successfully responded to this recovery request.');
                return false;
              });
              $noty.close();
            }
          },
          {
            addClass: 'btn btn-primary', text: 'Cancel', onClick: function($noty) {
              $noty.close();
            }
          }]
        })
      });
      return false;
    });

  });

div#view-recover
  div#recover-goback(style='max-width: 200px; font-size: 12px; float: right; clear: both;')
    p.t-center.color-grey Status: 
      span(class=''+recovery.getColour())= recovery.getStatus()
    if recovery.getActive() == 2
      p.t-center.color-grey Reason for Decline:
      p.t-center.color-white= recovery.getReason()
    p.t-center.color-grey &larr; #[a.vis-link(href='#', title='Go Back') Go back]
div.content
  div.row(style='clear: both;')
    div.box(style="padding: 0 20px;")
      p.color-white Username: 
        span.color-green= '$for-name='+recovery.getUsername()+'$end'
      p.color-white Email: 
        if recovery.getEmail() == ''
          if has_email == true
            span.color-red= 'No email entered. Account email: '+real_email
          else
            span.color-green= 'No email entered. Account has no email on file.'
        else
          if has_email == false
            span.color-red= 'Account has no email on file. Email entered: '+recovery.getEmail()
          else
            if correct_email == true
              span.color-green Email correct!
            else
              span.color-red= 'Incorrect email. Entered: '+recovery.getEmail()+' Actual: '+real_email
      p.color-white Forum ID: 
        if recovery.getForumId() == ''
          if has_forum == true
            span.color-red= 'No forum ID entered. Linked forum ID: '+forum_id
          else
            span.color-green No forum ID entered. No linked forum account on file.
        else
          if has_forum == false
            span.color-red= 'No linked forum account on file. Entered forum ID: '+recovery.getForumId()
          else
            if correct_forum == true
              span.color-green Forum ID correct!
            else
              span.color-red= 'Incorrect forum ID. Entered: '+recovery.getForumId()+' Actual: '+forum_id
      p.color-white Created: 
        if recovery.getCreation() == 0
          span.color-grey No date entered
        else
          if days_off == 0
            span.color-green Exact date entered!
          else if days_off > 20
            span.color-red= days_off+' days off.'
          else
            span.color-yellow= days_off+' days off.'
      p.color-white City/Country: 
        span.color-grey=recovery.getCico()
      -var first = recovery.getPass(0);
      -var second = recovery.getPass(1);
      -var third = recovery.getPass(2);
      p.color-white Previous Passwords:
      div(style='padding: 5px;')
        p.color-white First: 
          if first == -1
            span.color-grey No password entered
          else if first == 0
            span.color-red Incorrect password entered
          else if first == 1
            span.color-green Correct password entered
        p.color-white Second: 
          if second == -1
            span.color-grey No password entered
          else if second == 0
            span.color-red Incorrect password entered
          else if second == 1
            span.color-green Correct password entered
        p.color-white Third: 
          if third == -1
            span.color-grey No password entered
          else if third == 0
            span.color-red Incorrect password entered
          else if third == 1
            span.color-green Correct password entered
      p.color-white Submitted By IP: 
        span.color-grey= recovery.getIp()
      if recovery.getActive() == 0
        p.color-white Last 5 IPs: 
        div(style='padding: 5px;')
          for i in [0, 1, 2, 3, 4]
            if i < 3
              div.col-md-4
                p.color-white= (i+1)+'. '+list.get(i)
            else
              div.col-md-6
                p.color-white= (i+1)+'. '+list.get(i)
      p.color-white Additional Information: 
      div(style='padding: 5px; border: 1px solid #000; background: #111;')
        if recovery.getAdditional() == ''
          p.color-grey Nothing Entered
        else
          p.color-grey= recovery.getAdditional()
      if recovery.getActive() == 0
        button.btn.btn-default.recover-btn#respond(style='margin: 10px auto !important;') Respond
